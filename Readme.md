# 毕业设计项目
* 主题：软件项目工作区与演化可视化
* Topic: A Visualization for Software Project Workspace and Evolution

### 开发者日志
* 20180320 - 建立项目GitTimeline
* 20180420 - 改变开发方向
* 20180420 - 添加若干Serializable对象，用于将仓库及api调用频率内存信息序列化
* 20180423 - “程序异常终止原则”，新约定：“文件非只读操作”例如delete与mkdir默认100%成功，不允许失败，如失败则终止程序 - System.exit(1)。
* 20180423 - “程序异常终止原则”，新约定：与网络有关的操作例如clone，可以失败，失败后不终止程序。
* 20180423 - 局限性：不允许项目同重名。（原因：项目缓存目录与文件名直接取了项目名）
* 20180423 - 局限性懒人方案：引入新的项目，与已有项目重名，会被当做项目已经被缓存。则每次先清除缓存可以避免。
* 20180423 - ProjectManager开发完成，场景说明：载入已有项目（无网络），新建项目（有网络），载入但更新已有项目（有网络）。
* 20180423 - APICountingManager开发开始
* 20180424 - 更改了Project(Serializable)，增加pureName属性。
* 20180424 - 初步完成并调试了CountingManager
* 20180424 - 完成：安卓官方API数据半脱离数据库
* 20180424 - APICountingManager更新缓存规则尝试(TODO)：新工作的commit序号为二的幂时缓存。
* 20180424 - 尝试CaseSample测试

### 研究进展
* 20180320 - 
``` text
Github扩展了Git版本管理的功能，体现为event，即事件的扩展。
Git中仅有branch分支，commit提交，merge合并等与项目文件本身有关的版本信息。
GitHub中含有额外的event事件信息，包括issue问题，pull_request拉取请求。

当前计划：首先针对Git中的信息进行可视化，不依赖GitHub的API，不考虑event事件相关信息。
分主题：Git项目活跃度可视化。
分主题：Git项目用户参与可视化。（除去pull request merge贡献方式）
分主题：Git项目不同版本文件可视化索引。

实现：web应用，输入可视化Git仓库地址，自动进行解析后展示结果。
解析过程由web应用调用后台服务，基于后台mysql数据库服务与文件存储服务完成。

进阶：对GitHub信息（主要是event，基于Git，扩展后的信息）同时进行可视化考虑。
```
* 20180420 -
```text
优化曦源项目API可视化代码，实现效率与渲染方式的双重优化

问题：

1、定位问题的关键：数据库操作太慢，没有数据库操作可以加速90%。
解决方案:脱离数据库，使用序列化与文件系统完成数据存储。
2、坚持web应用：仅web前端无法完成分析，但是桌面前端不方便进行可视化。
3、接下来可能的问题：实时分析返回前端数据时，担心数据体量过大。
4、提取API数据的正确性验证（文件系统下）。
5、最后再考虑commit词云和commit信息的对接。

总结：
	废弃数据库，改用文件系统序列化数据
	实时分析并返回数据给前端，前端管理数据
	前端最好做到解析过程实时渲染

如何使用：

1、前端输入项目地址，后端根据状态缓存仓库并分析API信息，生成序列化后的信息缓存文件（如有API信息文件则可以直接使用，如没有则首先查看是否可以使用仓库缓存）
（
	(1)未缓存仓库，且未分析（没有仓库版本信息文件，没有API信息文件）（初始态）；
	(2)已缓存仓库完成，但分析未完成（有仓库版本信息文件，没有API信息文件）；
	*(3)分析已完成，但仓库缓存已删除（没有仓库版本信息文件，有API信息文件）；
	(4)已缓存仓库完成，且分析已完成（有仓库版本信息文件，有API信息文件）；
）；
2、前端输入项目地址，要求依据已有仓库缓存，重新分析（清空API数据缓存，并首先查看是否可以使用仓库缓存）；
3、前端输入项目地址，要求更新已有仓库缓存，重新分析（一律重置所有缓存）；

后端相关：
后端分析API，文件系统缓存到本地，传回数据，前端实时排序渲染；（TODO：暂时不支持多人同时调用服务）
后端内存中保留数据，使用状态机（初始：输入地址前；点击按钮解析中；解析已完成（前端展示完成）；前端变更API筛选返回数据）
```